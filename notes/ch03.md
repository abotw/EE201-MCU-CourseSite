---
title: Ch03
layout: page
parent: Notes
---

# âš™ï¸ Chapter 3 â€“ Learning Hardware Fundamentals

## Main Topics

1. Electromagnetic Interference (EMI) and Decoupling Capacitors
    
2. Application of Transistors in Digital Circuits
    
3. Application of the 74HC138 3-to-8 Decoder
    
4. LED Blinking Program
    

---

## ğŸ§² 3.1 Electromagnetic Interference (EMI) and Decoupling Capacitors

- **Electromagnetic Compatibility (EMC):**  
    The ability of a device to operate properly in its electromagnetic environment without generating excessive interference.
    
- **Low-Frequency Filter Capacitors:**
    
    - **Purpose:** buffer sudden current changes; stabilize voltage during load variation.
        
    - **Typical Values:** tens to hundreds of ÂµF (electrolytic); voltage rating â‰¥ 2Ã— working voltage.
        
    - **Analogy:** acts like a â€œwater tankâ€ that absorbs electrical surges.
        
- **Types:** aluminum electrolytic, tantalum, ceramic capacitors.
    
- **High-Frequency Decoupling Capacitors:**
    
    - Usually 0.1 ÂµF (â€œ104â€ = 10Ã—10â´ pF).
        
    - Must be placed **close to the IC power pins**; longer distance â†’ worse filtering.
        

---

## âš¡ 3.2 Transistor Applications in Digital Circuits

- **Definition:** a semiconductor device that amplifies current or switches signals; composed of three regions â€“ Base (B), Emitter (E), Collector (C).
    
- **Types:** NPN and PNP (based on arrow direction).
    
- **Operating States:**
    
    - **Cut-off:** no base current â†’ no collector current â†’ OFF.
        
    - **Saturation:** large base current â†’ max collector current â†’ acts as a closed switch.
        
    - **Active region:** used for analog amplification.
        
    - In digital control, mainly the **cut-off** and **saturation** states are used.
        
- **Voltage Conversion Example:**  
    Use a low-voltage (5 V) MCU signal to control a high-voltage (12 V) load.
    
- **Driving Capability:**
    
    - MCU I/O pins can only output â‰ˆ 250 ÂµA, insufficient for driving LEDs (need mA level).
        
    - Transistors act as current amplifiers or switches to drive LEDs and buzzers.
        
    - The 51 MCU ports are **better at sinking current** than sourcing it.
        
- **Example Application:**
    
    - One transistor controls eight LEDs by acting as a main switch (â€œtotal valveâ€).
        
    - Each LED is then controlled individually via the MCU port.
        

---

## ğŸ”¢ 3.3 Using the 74HC138 3-to-8 Decoder

- **Function:**  
    Converts 3 binary inputs (A0â€“A2) into 8 exclusive outputs (Y0â€“Y7).
    
- **Enable Pins:** G1 (active high), G2A & G2B (active low).
    
- **Logic Table:**  
    Each combination of A2, A1, A0 activates one output (Y0â€“Y7).
    
- **Application in LED control:**
    
    - Combine decoder outputs with pull-up resistors and transistors to select specific LEDs.
        
    - Example code assigns ADDR0â€“ADDR3 and ENLED pins on the MCU to control the decoder.
        
- **Control Flow:**
    
    - MCU outputs low voltage â†’ decoder selects channel â†’ transistor conducts â†’ LED lights up.
        

---

## ğŸ’¡ 3.4 LED Blinking Program

- **Idea:** alternate between turning the LED on and off with a delay in between.
    
- **Key Code Structure:**
    
    ```c
    #include <reg52.h>
    sbit LED = P0^0;
    sbit ENLED = P1^4;
    ...
    void main() {
        ENLED = 0;
        while(1) {
            LED = 0;         // ON
            for(i=0; i<30000; i++); // delay
            LED = 1;         // OFF
            for(i=0; i<30000; i++); // delay
        }
    }
    ```
    
- **Concepts:**
    
    - **Delay loop:** `for(i=0;i<30000;i++);` creates a time gap.
        
    - **Limitation:** software delays depend on clock speed and waste CPU time; hardware timers are better for precision.
        

---

## ğŸ§¾ Summary

- **EMC and Decoupling:** Understand how capacitors stabilize voltage and suppress noise.
    
- **Transistors:** Enable current amplification and voltage conversion in digital control.
    
- **74HC138 Decoder:** Expand I/O resources and select among multiple LED outputs.
    
- **LED Blinking:** Integrate hardware control and software timing to achieve visible output.
    
- **Key Design Principle:** Write programs according to real circuit schematics and consider EMC requirements in hardware design.
    
